<div class="planning-month" *ngFor="let calendar of calendars">
	<h2>
		{{ calendar.strMonth }}
		<app-edit-toolbar (onModify)="modifyEvent()" (onDelete)="deleteEvents()"></app-edit-toolbar>
	</h2>
	<mwl-calendar-month-view [viewDate]="calendar.viewDate" [events]="calendar.events" (click)="onDaySelect($event)"
		(eventClicked)="onEventSelect($event)" [cellTemplate]="planningCell"></mwl-calendar-month-view>
</div>
<div class="planning-nav nav-prev" (click)="incrMonthOffset(-1)">
	<span><</span>
</div>
<div class="planning-nav nav-next" (click)="incrMonthOffset(1)">
	<span>></span>
</div>
<ng-template
	#planningCell
	let-day="day"
	let-openDay="openDay"
	let-locale="locale"
	let-tooltipPlacement="tooltipPlacement"
	let-highlightDay="highlightDay"
	let-unhighlightDay="unhighlightDay"
	let-eventClicked="eventClicked"
	let-tooltipTemplate="tooltipTemplate"
	let-tooltipAppendToBody="tooltipAppendToBody">
	<div class="cal-cell-top">
		<!-- <span class="cal-day-badge" *ngIf="day.badgeTotal > 0">{{ day.badgeTotal }}</span> -->
		<span class="cal-day-number">{{ day.date | calendarDate:'monthViewDayNumber':locale }}</span>
	</div>
	<div class="cal-events" *ngIf="day.events.length > 0">
		<div
		  class="cal-event"
		  *ngFor="let event of day.events"
		  [style.backgroundColor]="event.color.primary"
		  [ngClass]="event?.cssClass"
		  (mouseenter)="highlightDay.emit({event: event})"
		  (mouseleave)="unhighlightDay.emit({event: event})"
		  [mwlCalendarTooltip]="event.title | calendarEventTitle:'monthTooltip':event"
		  [tooltipPlacement]="tooltipPlacement"
		  [tooltipEvent]="event"
		  [tooltipTemplate]="tooltipTemplate"
		  [tooltipAppendToBody]="tooltipAppendToBody"
		  (mwlClick)="eventClicked($event, event)">
		</div>
	</div>
</ng-template>